### Intro

本章总结了多线程编程的常用技术，以及一些最佳实践。

### 不同之处

学习多线程编程面临的最大的思维方式的转变有两点：
- 当前线程可能随时会被切换出去，或者说被抢占（preempt）了。
- 多线程程序中事件的发生顺序不再有全局统一的先后关系

在单CPU 系统中，理论上我们可以通过记录CPU 上执行的指令的先后顺序来
推演多线程的实际交织（interweaving）运行的情况。

在多核系统中，多个线程是并行执行的，我们甚至没有统一的全局时钟来为每个事件编号。在没有适当同步的情况
下，多个CPU 上运行的多个线程中的事件发生先后顺序是无法确定的。

多线程程序的正确性不能依赖于任何一个线程的执行速度，不能通过原地等待
（sleep()）来假定其他线程的事件已经发生，而**必须通过适当的同步**来让当前线程能看到其他线程的事件的结果

### 基本线程原语的选用